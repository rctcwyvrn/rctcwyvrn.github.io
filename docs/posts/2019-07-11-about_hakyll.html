<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>rctcwyvrn's blog - How does Hakyll work?</title>
        <link rel="stylesheet" type="text/css" href="../css/custom.css" />
        <link rel="stylesheet" type="text/css" href="../css/syntax.css">
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
        </script>
    </head>
    <body>
        <div id="header">
            <div id="logo">
                <a href="../">
                <img src="../images/logo.gif" width="34" height="24" align="top">
                rctcwyvrn's blog</a>
            </div>
            <div id="navigation">
                <a href="../">Home</a>
                <a href="https://github.com/rctcwyvrn">Github</a>
                <a href="../info/about.html">About</a>
                <a href="../info/contact.html">Contact</a>
                <a href="../archive.html">Archive</a>
            </div>
        </div>

        <div id="content">
            <h1>How does Hakyll work?</h1>

            <div class="info">
   <p> Posted on July 11, 2019
    
        by rctcwyvrn
    
</p>
    <p>
    
</p>
</div>


<p>How does Hakyll work? A quick rundown from someone completely new to both web design <em>and</em> haskell.</p>
<p>After you create and build the project you have the following:<br />
- site.hs<br />
- a folder of templates<br />
- a folder of css<br />
- a folder of markdown posts</p>
<p>Here’s how hakyll generates each page of the website (I think, I’m still figuring it out)</p>
<p>The index:</p>
<ol type="1">
<li>Apply the proper templates to make index.html have the list of posts<br />
</li>
<li>Take that index.html and make it <span class="math inline">\(content\)</span> (lmao I just noticed that it becomes inline LaTeX, <span class="math inline">\(x+y=1\)</span>)</li>
<li>Take the default.html and replace the instances of <span class="math inline">\(content\)</span> on the template with index.html<br />
</li>
<li>Export that as index.html</li>
</ol>
<p>The posts and stuff:</p>
<ol type="1">
<li>Take the post’s markdown data<br />
</li>
<li>Pull out the metadata, called the ‘context’<br />
</li>
<li>Apply whatever templates you want to it, using the metadata if you want</li>
</ol>
<p>Here’s how I made the favorite section on the index:</p>
<ol type="1">
<li>Add a favorite tag to the metadata of the post I want to favorite<br />
</li>
<li>Make a new template called favorite-list<br />
</li>
<li>Use the hakyll DSL syntax to make the template do the same thing as post-list but only if the favorite tag is present<br />
</li>
<li>Add to index.html a partial that uses favorite-list</li>
</ol>
<p>Using pandocCompilerWith to make stuff like laTeX</p>
<p>\[ \ln x = \int_{-\infty}^x \frac 1 y \, dy . \]</p>
<p>I followed this: <a href="http://travis.athougies.net/posts/2013-08-13-using-math-on-your-hakyll-blog.html">http://travis.athougies.net/posts/2013-08-13-using-math-on-your-hakyll-blog.html</a> The idea is that you just need to set the proper extensions and options for pandoc’s writing.</p>
<p><strong>Note</strong> You need to make sure the math.jax script is https or else github pages (smartly) refuses to load it</p>
<p>How to add a block of text to every post of a certain type:</p>
<ol type="1">
<li>Generate the html file for the stuff you want to add, for me this was abit.html, which is an about paragraph</li>
<li>Add a tag to the metadata for your post’s markdown</li>
<li>Edit the post.html template to check for the tag</li>
<li>Make the template load that html file as a partial if the tag is present</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="ot">main ::</span> <span class="dt">IO</span> ()</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>main <span class="ot">=</span> hakyll <span class="op">$</span> <span class="kw">do</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a>	    match <span class="st">&quot;images/*&quot;</span> <span class="op">$</span> <span class="kw">do</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>	        route   idRoute</span></code></pre></div>

        </div>
        <div id="footer">
            Site proudly generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>
        </div>
    </body>
</html>
